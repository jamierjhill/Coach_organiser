<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FL37QBZMLC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FL37QBZMLC');
</script>
  <meta charset="UTF-8">
  <title>ğŸ“‹ AI Session Generator</title>

</head>
<body>
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}
  <div class="container">
    <h1>ğŸ“‹ AI Session Generator</h1>

    {% if session.get('session_access_granted') != True %}
      <form method="POST">
        <label for="password">Enter password to access:</label>
        <input type="password" name="password" id="password" placeholder="Coach password">
        <button type="submit">Unlock</button>
        {% if error %}
          <div class="error">{{ error }}</div>
        {% endif %}
      </form>
    {% else %}
      <form method="POST">
        <label for="players">Number of Players:</label>
        <input type="number" name="players" id="players" placeholder="e.g. 6" required>

        <label for="focus">Focus Area:</label>
        <input type="text" name="focus" id="focus" placeholder="e.g. consistency, volleys, movement" required>

        <label for="duration">Duration (minutes):</label>
        <input type="number" name="duration" id="duration" placeholder="e.g. 90" required>

        <button type="submit">Generate Session</button>
      </form>

      {% if session_plan %}
        <div class="output">
          <h3>âœ… Session Plan</h3>
          {{ session_plan }}
        </div>
      {% endif %}

      <a href="/logout-session-generator" style="color: #a00;">ğŸ”’ Log out</a>
    {% endif %}

    <a href="/">â† Back to Main Page</a>
  </div>
</body>
</html>
